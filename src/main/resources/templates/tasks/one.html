<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="fragments/header :: header"></head>
<body>
<div th:replace="fragments/navigation :: navigation"></div>
<div class="container">
    <h3>Параметры задачи</h3>
    <form class="mt-3" th:action="@{/tasks/one}" method="post" th:object="${task}">
        <table class="table table-bordered">
            <tr>
                <th scope="row">#</th>
                <input type="hidden" name="id" th:field="*{id}">
                <td th:text="${task.id}"/>
            </tr>
            <tr>
                <th scope="row">Название</th>
                <input type="hidden" name="title" th:field="*{title}">
                <td th:text="${task.title}"/>
            </tr>
            <tr>
                <th scope="row">Пользователь</th>
                <input type="hidden" th:field="*{user.id}">
                <input type="hidden" th:field="*{user.name}">
                <input type="hidden" th:field="*{user.login}">
                <input type="hidden" th:field="*{user.password}">
                <td th:text="${task.user.name}"/>
            </tr>
            <tr>
                <th scope="row">Описание</th>
                <input type="hidden" name="description" th:field="*{description}">
                <td th:text="${task.description}"/>
            </tr>
            <tr>
                <th scope="row">Дата создания</th>
                <input type="hidden" name="created" th:field="*{created}">
                <td th:text="${{task.created}}"/>
            </tr>
            <tr>
                <th scope="row">Завершено</th>
                <td>
                    <input type="hidden" name="done" value="true">
                    <span th:if="${task.done}">
                <i class="bi bi-check-square"></i><!-- Завершённая задача -->
              </span>
                    <span th:if="${!task.done}">
                  <i class="bi bi-square"></i><!-- Не завершённая задача -->
              </span>
                </td>
            </tr>
        </table>
        <div class="mb-3 row">
            <div class="col-6"></div>
            <div class="col-6">
                <div class="row">
                    <div class="col-4">
                        <button class="btn btn-success w-100"
                                type="submit">Выполнено
                        </button>
                    </div>
                    <div class="col-4"><a class="btn btn-primary w-100"
                                          th:href="@{/tasks/edit/{id}(id=*{id})}">Редактировать</a></div>

                    <div class="col-4"><a class="btn btn-danger w-100"
                                          th:href="@{/tasks/delete/{id}(id=*{id})}">Удалить</a></div>
                </div>
            </div>
        </div>
    </form>
</div>
<footer th:include="fragments/footer :: footer"></footer>
</body>
</html>